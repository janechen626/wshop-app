<template>    <div class="main" style="background: #f7f7f7;">        <mt-header title="商品详情" fixed>            <a slot="left" @click="goBack">                <mt-button icon="back"></mt-button>            </a>        </mt-header>        <div class="container">            <mt-swipe class="banner" :auto="2000" :show-indicators="true">                <mt-swipe-item>                    <img class="silder" :src="goods.thumb">                </mt-swipe-item>            </mt-swipe>            <div class="info">                <div class="info-title">                    <span>{{goods.goodstype_name}}</span>                    <span>{{goods.title}}</span>                </div>                <div class="info-list">仅限:{{goods.total}}份 已参与:{{goods.joins}}次</div>                <div class="info-list">邮费:￥{{goods.dispatch}}</div>                <div class="info-price">                    <span>{{goods.credit}}积分 <span v-if="goods.money!=0">+ ￥{{goods.money}}</span></span>                    <span>原价:{{goods.price}}元</span>                </div>            </div>            <div class="mid" @click="layer" v-if="goods.hasoption==1">                <div>{{titles}}</div>                <div class="iconfont">&#xe61b;</div>            </div>            <div class="content">                <div>兑换流程</div>                <div v-html="goods.detail"></div>            </div>            <div class="content">                <div>注意事项</div>                <div v-html="goods.noticedetail"></div>            </div>            <div class="detail">                <div>图文详情</div>                <div v-html="goods.goodsdetail">                    <!--<img src="" alt="">-->                </div>            </div>        </div>        <div class="btns" v-if="goods.canbuy==true&&optionsId == 0&&goods.hasoption == 1" @click="kipConfirm">            请选择规格        </div>        <div class="btns" v-if="goods.canbuy==true&&optionsId != 0&&goods.hasoption == 1" @click="kipConfirm">            {{goods.type_name}}        </div>        <div class="btns" v-if="goods.canbuy==true&&optionsId == 0&&goods.hasoption == 0" @click="kipConfirm">            {{goods.type_name}}        </div>        <div class="btn" v-if="goods.canbuy==false">{{goods.buymsg}}</div>        <mt-popup v-model="popupVisible" position="bottom" modal=true>            <g-options :goods="goods" :options="options" :optionsId="optionsId" @pops="pops"></g-options>        </mt-popup>    </div></template><script>    import util from '../../../api/util'    import {Toast} from 'mint-ui';    import list from './../../../assets/mixins/list'    import gOptions from './options'    export default {        data() {            return {                slider: [],                popupVisible: false,                goods: [],                options: [],                optionsId: 0,                titles: '请选择规格'            }        },        prop: {},        methods: {            getDetail(){                let that = this;                util.request({                    url: 'creditshop.detail',                    method: 'get',                    data: {                        id: that.$route.query.id,                    },                    success: function (res) {                        console.log(res);                        that.goods = res.data.goods;                        that.options = res.data.goods.options                    },                    error: function (error) {                        console.log(error)                    },                    complete: function () {                    }                })            },            pops(i, titles){                let that = this;                console.log(i)                that.optionsId = i                that.popupVisible = false                that.titles = titles            },            goBack(){                this.$router.go(-1)            },            kipConfirm(){                let that = this;                console.log(that.goods.hasoption)                console.log(that.optionsId)                if (that.goods.hasoption == 1) {                    if (that.optionsId == 0) {                        that.layer();                        return false                    } else {                        that.$router.push({name: 'integralConfirm', query: {id: that.goods.id}})                    }                }                if (that.goods.hasoption == 0) {                    that.$router.push({name: 'integralConfirm', query: {id: that.goods.id}})                }            },            layer(){                let that = this;                that.popupVisible = true            }        },        mounted () {            this.getDetail();        },        components: {            gOptions,        },    }</script><style lang="less" scoped>    @import '../../../assets/less/index.less';    .main {        .page-view(100);        .container{            .scroll-view(100%);            .banner {                height: 1.6rem;                margin-top: .4rem;                background: #666;                img {                    height: 1.6rem;                    width: 100%;                }            }            .info {                background: #ffffff;                text-align: left;                .info-title {                    padding: .1rem;                    border-bottom: 1px solid #f7f7f7;                    span:first-child {                        padding: .02rem .06rem;                        background: #F14748;                        color: #ffffff;                        font-size: .14rem;                    }                    span:last-child {                        font-size: .14rem;                        color: #797979;                    }                }                .info-list {                    padding: 0 .1rem;                    font-size: .12rem;                    padding-top: .04rem;                    color: #797979;                }                .info-price {                    padding: .1rem;                    span:first-child {                        color: #F14748;                    }                    > span:last-child {                        color: #797979;                        font-size: .12rem;                        text-decoration: line-through;                    }                }            }            .mid {                display: flex;                justify-content: space-between;                align-items: center;                padding: .1rem;                background: #ffffff;                margin-top: .1rem;                div {                    display: flex;                    color: #797979;                    font-size: .14rem;                }            }            .content {                margin-top: .1rem;                background: #ffffff;                padding: .1rem;                text-align: left;                div:last-child {                    font-size: .14rem;                    color: #797979;                    text-indent: 1em;                    margin-top: .08rem;                }            }            .detail {                margin-top: .1rem;                margin-bottom: .4rem;                background: #ffffff;                text-align: left;                div:first-child {                    padding: .1rem;                    color: #F14748;                    border-bottom: 1px solid #f7f7f7;                }                img:first-child {                    margin-top: .06rem;                }                img {                    width: 98%;                    margin-left: 1%;                }            }        }        .btns {            position: fixed;            bottom: 0;            height: .4rem;            line-height: .4rem;            color: #ffffff;            background: #F14748;            width: 100%;        }        .btn {            position: fixed;            bottom: 0;            height: .4rem;            line-height: .4rem;            color: #ffffff;            background: #CCCCCC;            width: 100%;        }    }</style>